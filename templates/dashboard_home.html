{% extends 'base.html' %}


{% block content %}
<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Bots
        <!-- <small>Version 2.0</small> -->
    </h1>
    <!-- <ol class="breadcrumb"> -->
    <!--   <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li> -->
    <!--   <li class="active">Dashboard</li> -->
    <!-- </ol> -->
</section>

<!-- Main content -->
<section class="content">
    <!-- Info boxes -->
    <div class="row">
        <div class="col-xs-12">

            <div class="box box-success">
                <div class="box-header">
                    <h3 class="box-title">Bot List</h3>
                    <div class="box-tools">
                        <div class="input-group input-group-sm" style="width: 150px;">
                        </div>
                    </div>
                </div>

                        <!-- List of uploaded documents -->
                        {% for dc in document_id %}
                            <ul>
                              <div class="alert">
Your CSV's Unique Id is:<strong>
                              {{dc.auto_pseudoid}}  </strong>
</div>
                            </ul>
                            <!-- <p>No documents.</p>-->
                        {% endfor %}

                        <!-- Upload form. Note enctype attribute! -->
                        <form action="{% url "list" %}" method="post" class="form-inline" enctype="multipart/form-data">

                                            <div class="form-group  form-group-lg" >
                            {% csrf_token %}
                            <p>{{ form.non_field_errors }}</p>

                            <p>{{ form.docfile.label_tag }} {{ form.docfile.help_text }}</p>

                            <p>
                                {{ form.docfile.errors }}
                                {{ form.docfile }}
                            </p>

                            <p><input type="submit" value="Upload"/></p>

    </div>

                        </form>
                <!-- /.box-header -->
                <div class="box-body table-responsive no-padding">
                  <table id = 'BotStatusTable' class="table table-striped">
                  <thead>
                    <tr>
                      <th>
                        Bot Number
                      </th>
                      <th>
                        Mobile Number
                      </th>

                      <th>
                        Status
                      </th>

                    </tr>
                  </thead>
                  <tbody>
                  {% for AdminBot in AdminBots %}


                  <tr>
                    <td>
                    {{AdminBot.bot_id.id}}
                    </td>
                    <td>
                    {{AdminBot.bot_id.bot_phone}}
                    </td>
                    <td>
                  {%if AdminBot.bot_id.bot_state == 0 %}
                  <label class="label label-success">Active</label>
                  {%elif AdminBot.bot_id.bot_state == 1 %}
                  <label class="label label-danger">Blocked</label>
                  {%elif AdminBot.bot_id.bot_state == 2 %}
                  <label class="label label-info">.Running</label>
                  {%else %}
                  <label class="label label-warning">Unknown</label>

                  {%endif%}
                    </td>

                  </tr>


                  {% endfor %}
                  </tbody>
                  </table>

                </div>
                <!-- /.box-body
                -->
            </div>

        </div>
    </div>
    <!-- /.row -->

</section>
<!-- /.content -->
{% endblock %}

{% block footerScripts %}
<script>
$('#BotStatusTable').DataTable({
   "order": [[ 2, 'asc' ]]
});
</script>
{% endblock %}
